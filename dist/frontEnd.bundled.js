const i=(l,r,d,c)=>{let e;const o=l,n=new XMLHttpRequest,t=new FormData(r);t.append("action","send_email"),c&&t.append("recaptcha_response",c),d&&(t.delete("brochure"),t.append("brochure",d)),n.open("POST",ajaxObject.ajaxurl,!0),n.onload=function(){if(n.status===200){try{const s=JSON.parse(n.responseText);s.data?(e=s.data.message,r.reset()):e="An error occurred while processing the response"}catch{e="An error occurred while parsing the response"}o.textContent=e}else e="An error occurred with the AJAX request",o.textContent=e},n.onerror=()=>{e="An error occurred while making the AJAX request",o.textContent=e},n.send(t)};window.addEventListener("load",()=>{const l=document.querySelectorAll('a[href*="#brochure"]'),r=document.querySelector("#modal-form"),d=document.querySelector("#modal-form-close");let c;r&&getComputedStyle(r).display==="block"&&(document.body.style.overflow="hidden"),l&&r&&d&&(l.forEach(o=>{o.addEventListener("click",n=>{n.preventDefault();const t=o.getAttribute("href");if(t.includes("?")){const[a]=t.split("?");if(a){const[s,u]=a.split("=");s==="file"&&(c=u)}}r.style.display="block",document.body.style.overflow="hidden"})}),d.addEventListener("click",()=>{r.style.display="none",document.body.style.overflow="auto",document.body.style.overflowX="hidden"}),window.addEventListener("click",o=>{o.target===r&&(r.style.display="none",document.body.style.overflow="auto",document.body.style.overflowX="hidden")}),window.addEventListener("keydown",o=>{o.key==="Escape"&&(r.style.display="none",document.body.style.overflow="auto",document.body.style.overflowX="hidden")}));const e=document.querySelector("#modal-form form");e&&e.addEventListener("submit",o=>{o.preventDefault();const n=e.querySelector('input[name="recaptchaSiteKey"]'),t=e.querySelector(".influactive-form-message");if(n&&grecaptcha){const a=n.value;grecaptcha.ready(()=>{grecaptcha.execute(a,{action:"submit"}).then(s=>{i(t,e,c,s),setTimeout(()=>{t.textContent=""},5e3)})})}else i(t,e,c,null),setTimeout(()=>{t.textContent=""},5e3)})});
