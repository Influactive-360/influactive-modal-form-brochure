const i=(s,o,d,a)=>{const t=new XMLHttpRequest,e=new FormData(o);({...s},e.append("action","send_email")),a&&e.append("recaptcha_response",a),d&&(e.delete("brochure"),e.append("brochure",d)),t.open("POST",ajaxObject.ajaxurl,!0),t.onload=function(){if(t.status===200){const n=JSON.parse(t.responseText);n.data?(n.data.message,o.reset()):n.data.message}},t.send(e)};window.addEventListener("load",()=>{const s=document.querySelectorAll('a[href*="#brochure"]'),o=document.querySelector("#modal-form"),d=document.querySelector("#modal-form-close");let a;o&&getComputedStyle(o).display==="block"&&(document.body.style.overflow="hidden"),s&&o&&d&&(s.forEach(e=>{e.addEventListener("click",r=>{r.preventDefault();const n=e.getAttribute("href");if(n.includes("?")){const[c]=n.split("?");if(c){const[l,u]=c.split("=");l==="file"&&(a=u)}}o.style.display="block",document.body.style.overflow="hidden"})}),d.addEventListener("click",()=>{o.style.display="none",document.body.style.overflow="auto",document.body.style.overflowX="hidden"}),window.addEventListener("click",e=>{e.target===o&&(o.style.display="none",document.body.style.overflow="auto",document.body.style.overflowX="hidden")}),window.addEventListener("keydown",e=>{e.key==="Escape"&&(o.style.display="none",document.body.style.overflow="auto",document.body.style.overflowX="hidden")}));const t=document.querySelector("#modal-form form");t&&t.addEventListener("submit",e=>{e.preventDefault();const r=t.querySelector('input[name="recaptchaSiteKey"]'),n=t.querySelector(".influactive-form-message");if(r&&grecaptcha){const c=r.value;grecaptcha.ready(()=>{grecaptcha.execute(c,{action:"submit"}).then(l=>{i(n,t,a,l),setTimeout(()=>{n.textContent=""},5e3)})})}else i(n,t,a,null),setTimeout(()=>{n.textContent=""},5e3)})});
