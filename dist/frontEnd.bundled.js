function i(a,o,s,d){const t=new XMLHttpRequest,e=new FormData(o);e.append("action","send_email"),d&&e.append("recaptcha_response",d),s&&(e.delete("brochure"),e.append("brochure",s)),t.open("POST",ajaxObject.ajaxurl,!0),t.onload=function(){if(t.status===200){const n=JSON.parse(t.responseText);n.data?(a.textContent=n.data.message,o.reset()):(a.textContent=n.data.message,console.log(n.data))}else a.textContent="An error occurred with the AJAX request"},t.send(e)}window.addEventListener("load",()=>{const a=document.querySelectorAll('a[href*="#brochure"]'),o=document.querySelector("#modal-form"),s=document.querySelector("#modal-form-close");let d;o&&getComputedStyle(o).display==="block"&&(document.body.style.overflow="hidden"),a&&o&&s&&(a.forEach(e=>{e.addEventListener("click",n=>{n.preventDefault();const r=e.getAttribute("href");if(r.includes("?")){const c=r.split("?");if(c.length>1){const l=c[1].split("=");l[0]==="file"&&(d=l[1])}}o.style.display="block",document.body.style.overflow="hidden"})}),s.addEventListener("click",()=>{o.style.display="none",document.body.style.overflow="auto",document.body.style.overflowX="hidden"}),window.addEventListener("click",e=>{e.target===o&&(o.style.display="none",document.body.style.overflow="auto",document.body.style.overflowX="hidden")}),window.addEventListener("keydown",e=>{e.key==="Escape"&&(o.style.display="none",document.body.style.overflow="auto",document.body.style.overflowX="hidden")}));const t=document.querySelector("#modal-form form");t&&t.addEventListener("submit",e=>{e.preventDefault();const n=t.querySelector('input[name="recaptcha_site_key"]'),r=t.querySelector(".influactive-form-message");if(n&&grecaptcha){const c=n.value;grecaptcha.ready(()=>{grecaptcha.execute(c,{action:"submit"}).then(l=>{i(r,t,d,l),setTimeout(()=>{r.textContent=""},5e3)})})}else i(r,t,d,null),setTimeout(()=>{r.textContent=""},5e3)})});
