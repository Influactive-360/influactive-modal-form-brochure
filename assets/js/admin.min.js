document.addEventListener("DOMContentLoaded",function(){const selectElements=["modal_form_pages","modal_form_posts"];selectElements.forEach(function(elementId){const selectElement=document.getElementById(elementId);if(selectElement){new Choices(selectElement,{removeItemButton:true,searchEnabled:true})}});let mediaUploader;const uploadButton=document.querySelector("#upload-button");const inputField=document.querySelector("#modal_form_file_select");uploadButton.addEventListener("click",function(e){e.preventDefault();if(mediaUploader){mediaUploader.open();return}mediaUploader=wp.media.frames.file_frame=wp.media({multiple:false});mediaUploader.on("select",function(){const attachment=mediaUploader.state().get("selection").first().toJSON();inputField.value=attachment.id});mediaUploader.open()})});